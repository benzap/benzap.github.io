<!DOCTYPE html>
<html lang="en" ng-app="myApp"><head><meta charset="utf-8"><title>fif - An Introduction | Benjamin Zaporzan</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
           <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
           <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
           <link rel="manifest" href="/manifest.json">
           <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
           <meta name="theme-color" content="#ffffff"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Droid+Serif" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css"><link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"><link href="/css/highlight.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet" type="text/css"><script src="/js/highlight.js" type="text/javascript"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="flex-container"><header class="header full-width"><div class="name"><img src="/media/profile.svg"></div><div class="menu"><div class="menu-item"><a href="/index.html">Home</a></div><div class="menu-item"><a href="/about.html">About Me</a></div><div class="menu-item"><a href="/blog/">Blog</a></div><div class="menu-item"><a href="/contact.html">Contact Me</a></div><div class="menu-item"><a href="/projects.html">Projects</a></div></div></header><div class="content"><div class="page-container"><div class="page-view"><h1 style="text-align: center;">fif - An Introduction</h1><div class="inline-markdown"><h2>Introduction</h2><p><strong><a href='http://github.com/benzap/fif'>fif</a></strong> has been granted the first production version as of May. 27, 2018, so this blog post is going to be a light interactive introduction to the language. But first things first, what is <strong>fif</strong>?</p><p><strong>fif</strong> is a stack-based scripting language in clojure(script). It is:</p><ul><li>Stack-oriented</li><li>Interpreted</li><li>Easily Extensible</li><li>Simple</li><li>Sandboxed</li></ul><p>Let's get like Yoda, shall we!</p><h2>Interactive-Repl Get</h2><p>To improve the interactivity of this blog post, I created a interactive fif repl. You can manipulate the code in-place, and the changes will be evaluated instantly, displaying the contents of the <em>main stack</em> and the contents of the <em>standard output</em> while you type.</p><p>You can find the code for it <a href='https://gist.github.com/benzap/55cd4766c34bc266323a37df54beda68'>here</a>.</p><p>As a first example, i'm going to write the infamous "Hello World" to standard output</p><p><div class="fif-repl"> "Hello World!" println _ </div></p><p>Go ahead and try changing <code>println</code> to <code>str/upper-case</code> or try changing "Hello World!" to a different string, and you should see the preceding <em>Main Stack</em> and <em>Standard Output</em> sections change accordingly.</p><h2>May the Forth be with you</h2><p><strong>fif</strong> takes a lot of its concepts from Forth, which is most notably one of the first stack-oriented programming languages. In order to program in a stack-oriented language, you first need to place values on the stack, and special values, called <em>word definitions</em> manipulate the values that were previously placed on the stack.</p><p><strong>fif</strong> supports all values defined in the <a href='https://github.com/edn-format/edn'>EDN Format Specification</a>, which consists of all clojure data types.</p><p><div class="fif-repl"> 2 ;; Integers</p><p>3.14 ;; Floats</p><p>:some-keyword ;; Keywords</p><p>a-symbol? ;; Symbols</p><p>{:a "a" :b "b"} ;; Maps</p><p>[1 2] ;; Vectors</p><p>(:a :b) ;; Lists </div></p><p>Several symbols have been defined as <em>word definition functions</em> in order to perform operations on stack values. The most common word definitions to learn about are the arithmetic operations.</p><p><div class="fif-repl"> 1 2 +</p><p>1 1 -</p><p>2 2 *</p><p>3 2 /</p><p></div></p><p>The arithmetic word operations take two values off the stack, and push the result of those two values back onto the stack.</p><p>By chaining these stack operations together, you can use <strong>fif</strong> as some sort of advanced calculator.</p><p><div class="fif-repl"> 1000 12 / 20 + 2 * 12 - print</p><p></div></p><p>But besides basic arithmetic, <strong>fif</strong> has a wealth of other word functions at your disposal. If only there was an easy way to learn about them...</p><h2>Developing through self-discovery</h2><p><strong>fif</strong> has a set of word functions used specifically for self-discovery. I'll be going over each of the more useful ones so that you can begin exploring.</p><h3>see</h3><p><code>see</code> is probably the most important repl function in <strong>fif</strong>. To explain what it does, let's <code>see</code> what <code>see</code> does...</p><p><div class="fif-repl"> see see</p><p></div></p><p><code>see</code> provides information on whatever value comes after it. Go ahead and try replacing <code>see see</code> with <code>see +</code> or <code>see pr</code> to get information on what they are, and what they do.</p><h3>see-words</h3><p><code>see-words</code> provides a way to get a glimpse at every word definition in the current <strong>fif</strong> stack machine.</p><p><div class="fif-repl"> see-words</p><p></div></p><p>This word definition was taken from Forth, and given the splooge of information, it makes it difficult to learn anything in particular about <strong>fif</strong>. Fortunately there are other word operators that are far more useful.</p><h3>see-groups</h3><p>If you've already been using <code>see</code>, you probably noticed that word definitions have an assigned group.</p><p><code>see-groups</code> lists every group present within the <strong>fif</strong> stack machine. Note that word definitions that are part of the standard library have groups that are prefixed with <code>stdlib</code>.</p><p><div class="fif-repl"> see-groups</p><p></div></p><p>Want to see what words make up a particular group? The next section covers that.</p><h3>dir</h3><p><code>dir</code> is used to show what word definitions make up a particular group.</p><p><div class="fif-repl"> dir :stdlib.repl</p><p></div></p><p>The results of <code>dir :stdlib.repl</code> appears to show variants on <code>see-words</code> and <code>see-groups</code> called <code>see-user-words</code> and <code>see-user-groups</code>. All of the standard library word definitions are specially defined so that these repl variants can provide information on user-defined word definitions.</p><h2>Defining New Word Functions</h2><p><strong>fif</strong> allows you to define new word functions. It wouldn't be that useful as a scripting language, otherwise.</p><p><div class="fif-repl"> ;; doc add2 "( n &ndash; n ) Add 2 to the top value."</p><p>;; group add2 :arithmetic</p><p>fn add2</p><p>  2 +</p><p>endfn</p><p>_ 2 add2</p><p>_ see add2</p><p></div></p><p>In this example, the word function <code>add2</code> was created, which simply adds 2 to the top value. More importantly, you can see that it appears as a word function when using the <code>see</code> word operator.</p><p>You'll also note that two lines were left commented at the top of the repl code section. As an exercise, feel free to uncomment these lines to see what effect it has on the output.</p><h2>Defining New Word Variables</h2><p><strong>fif</strong> has two types of variables at your disposal. Their uses are based on whether you define them in a word function or not.</p><p>The first type of variable is a <em>global variable</em>, which is defined statically with <code>def</code>, and programmatically using <code>setg</code></p><p><div class="fif-repl"> ;; Define a global variable statically</p><p>def cat-fact-1 "A group of cats is called a clowder."</p><p>_ ;; Display our cat fact</p><p>cat-fact-1 println</p><p>_ ;; Change our cat fact programmatically</p><p>*cat-fact-1 "Cat Fact Missing" setg</p><p>_ cat-fact-1 println </div></p><p>The second type of variable is a local variable. Local variables are defined statically with <code>let</code>, and programmatically using <code>setl</code>.</p><p>Local variables are dynamically scoped within function declarations, which makes them a great way to generate <em>function arguments</em> from the stack.</p><p><div class="fif-repl"> def x "Global Variable X"</p><p>def y "Global Variable Y"</p><p>_ doc add "( x y &ndash; n ) Add top two values together."</p><p>fn  add</p><p>  ;; Create locally scoped function arguments</p><p>  *y swap setl</p><p>  *x swap setl</p><p>_   ;; Function Body</p><p>  x y +</p><p>endfn</p><p>_ 1 2 add</p><p>_ x println</p><p>y println</p><p></div></p><p>In the variable examples, a new concept was introduced. Any symbol that includes a pointer symbol, <code>&#42;</code>, infront of it has the pointer symbol removed, and is placed on the stack without being evaluated. This is refered to as <strong>Word Referencing</strong>, and it is required in order to define variables programmatically. I would also like to note that <strong>Word References</strong> can be stacked by preceding the symbol with ever more pointer symbols.</p><p><div class="fif-repl"> def x 10</p><p>_ x *x **x ******x</p><p>_ *x 20 setg</p><p>_ x *x **x ******x </div></p><h2>Introductory Taste Test Complete</h2><p>So far, i've covered:</p><ul><li>Using <strong>fif</strong> for basic arithmetic</li><li>Finding pre-existing word functions and word variables in a <strong>fif</strong>  stack machine.</li><li>Defining new word functions and word variables in a <strong>fif</strong> stack  machine.</li><li>An interesting cat fact</li></ul><p>In my next blog post, i'll be covering conditional forms, conditional loops, and the functional operators.</p><h2>But... I want to know more!</h2><p>If you would like to learn more about <strong>fif</strong>, and what it has to offer, <a href='http://github.com/benzap/fif'>the github page</a> goes more in-depth into most of the standard library operators, and also explains how to extend and use fif in your clojure(script) projects.</p><p>There is also an <a href='http://benzaporzan.me/fif-playground/'>online fif playground</a> which contains scripts expressing the many things you can do in <strong>fif</strong>. I will be covering each of these in later blog posts.</p><h2>Whale, that's it</h2><p>If you feel like I've missed something, or you wish to exchange facts, you can find me on the <a href='http://clojurians.net/'>clojurians slack</a> as <strong>@benzap</strong>.</p><hr/><h2>Related Resources</h2><ul><li><a href='http://github.com/benzap/fif'>Fif Github Page</a></li><li><a href='http://benzaporzan.me/fif-playground/'>Fif Playground</a></li><li><a href='https://www.factretriever.com/whale-facts'>Whale Facts</a></li><li><a href='https://www.buzzfeed.com/chelseamarshall/meows?utm_term=.vdwvDb9aqq#.efYxXY4A22'>Cat Facts</a></li><li><a href='https://gist.github.com/benzap/55cd4766c34bc266323a37df54beda68'>Gist - Fif Interactive Repl in clojurescript</a></li><li><a href='https://gist.github.com/benzap/45319637653c917910fbc43dc58fb1c8'>Gist - Fizzbuzz in fif</a></li><li><a href='https://gist.github.com/benzap/d1e5ab6eec4f16827ff49dc2f21b382e'>Gist - Higher Order Fizzbuzz in fif</a></li></ul></div></div></div></div><footer class="footer"><i>This site was statically generated with ♥ using <a href="https://github.com/plexus/chestnut">chestnut</a> and <a href="https://github.com/magnars/stasis">stasis</a> - © Benjamin Zaporzan 2018</i></footer></div><script src="/js/compiled/website.js" type="text/javascript"></script></body></html>