<!DOCTYPE html>
<html lang="en" ng-app="myApp"><head><meta charset="utf-8"><title>fif - Standing on the Shoulder of Giants | Benjamin Zaporzan</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
           <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
           <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
           <link rel="manifest" href="/manifest.json">
           <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
           <meta name="theme-color" content="#ffffff"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Droid+Serif" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css"><link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"><link href="/css/highlight.css" rel="stylesheet" type="text/css"><link href="/css/style.css" rel="stylesheet" type="text/css"><script src="/js/highlight.js" type="text/javascript"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="flex-container"><header class="header full-width"><div class="name"><img src="/media/profile.svg"></div><div class="menu"><div class="menu-item"><a href="/index.html">Home</a></div><div class="menu-item"><a href="/about.html">About Me</a></div><div class="menu-item"><a href="/blog/">Blog</a></div><div class="menu-item"><a href="/contact.html">Contact Me</a></div><div class="menu-item"><a href="/projects.html">Projects</a></div></div></header><div class="content"><div class="page-container"><div class="page-view"><h1 style="text-align: center;">fif - Standing on the Shoulder of Giants</h1><div class="inline-markdown"><h2>Introduction</h2><p>This is the second installment in a series of blog posts that introduce <strong><a href='http://github.com/benzap/fif'>fif</a></strong>, a stack-oriented scripting language written in clojure.</p><p><a href='/blog/2018/5/28/fif__an_introduction/'>The first blog post</a> outlines self-discovery using the repl, allowed EDN values, defining word definitions, and touches on word referencing. This blog post will start to cover more of the difficult to comprehend parts.</p><h2>Your condition? What is?</h2><p>The strangest thing I had to grok about stack-orientation is how conditional structures appear to be backwards. In order to determine a branching path to take, you need to present a boolean condition on the stack. The <code>if</code> conditional then takes this boolean condition from the top value on the stack and uses this value to determine how it should branch. That being said, here is the syntax for the <code>if</code> conditional:</p><pre><code>&lt;boolean flag&gt; if &lt;truthy statements..&gt; &#91;else &lt;falsy statements..&gt;&#93; then
</code></pre><p>The <em>boolean flag</em> represents a value that is currently on the stack, and this in turn triggers the <em>truthy statement</em> when it is <code>true</code>. But what determines if this value is true? A <em>boolean flag</em> is true if:</p><ul><li>It is a number <strong>not</strong> equal to <code>0</code></li><li>If the clojure statement <code>&#40;boolean &lt;boolean flag&gt;&#41;</code> is true.</li></ul><p>The <code>boolean</code> function in clojure loves everyone and everything, and treats only <code>false</code> and <code>nil</code> as false conditions. This is important to remember!</p><p>You'll also note that the <code>if</code> conditional accepts an optional <code>else</code> statement to present a <em>falsy statement</em>.</p><p>Let's test out some of these ideas in the interactive repl:</p><p><div class="fif-repl"> 42 if "Not equal to zero" then</p><p>_ 0 if "I'm so alone" then</p><p>_ 0 if "Something is wrong" else "Value is equal to zero" then </div></p><p>Let's work the clojure <code>boolean</code> function</p><p><div class="fif-repl"> true if "Yeah" then</p><p>_ true true? if "Yeah, true" then</p><p>_ false if "Yeah" else "Nah" then</p><p>_ false false? if "Yeah, false" then </div></p><p>Clojure <code>boolean</code> loves everyone, but <code>nil</code> and <code>false</code></p><p><div class="fif-repl"> [] if "Oh mah gosh! I like your vector!" prn then</p><p>_ () if "That's such a beautiful list!" prn then</p><p>_ {} if "How many sets is that?" prn then</p><p>_ "" if "Have you been working out?" prn then</p><p>_ nil if "My Pog Collection is better than your Pog Collection!" prn then </div></p><h2>Loop-di Whoop, Loop-Diddy-Whoop</h2><p>Looping in <strong>fif</strong> is pretty straightforward, but again, things can appear backwards since it follows in the footsteps of other stack-oriented languages.</p><h3>do-loop</h3><p>The first and most used loop construct is the <code>do</code> loop, which is similar to the <code>for</code> loop in imperative languages.</p><pre><code>&lt;end&gt; &lt;start&gt; do &lt;body..&gt; loop
</code></pre><p>The <code>do</code> loop requires a <em>start</em> and an <em>end</em> index to determine how many times it should loop. Note that the start and end indexes are <strong>inclusive</strong>, which means if you specify <code>5 0</code>, it will perform <strong>6</strong> iterations.</p><p><div class="fif-repl"> 5 0 do "Hello!" loop</p><p>_ "Loop performed '" . $get-stack count . "' Iterations" . </div></p><p>It would be useful if you could also know what iteration you're on. Fortunately, <strong>fif</strong> has index word definitions which retrieve the current index from the return stack. These word functions are named <code>i</code>, <code>j</code>, and <code>k</code>.</p><p><div class="fif-repl"> 5 0 do i 5 = if "fif!" else i then println loop</p><p>_ </div></p><p>Indexing beyond <code>i</code> particularly shines in nested loops</p><p><div class="fif-repl"> 2 0 do 3 0 do</p><p>  j i pair</p><p>loop loop</p><p>_ </div></p><p>The <code>do</code> loop also includes a variation on the loop to increment at a different step. The syntax of this variation is:</p><pre><code>&lt;end&gt; &lt;start&gt; do &lt;body..&gt; &lt;step&gt; +loop
</code></pre><p>Each iteration of the loop will increment the index by the provided <em>step</em>. The last value could span past the <em>end</em> index as seen in the example.</p><p><div class="fif-repl"> 10 0 do i 3 +loop</p><p>_ </div></p><h3>begin-until</h3><p>One of the more versatile loops is the begin-until loop, which is defined as:</p><pre><code>begin &lt;body..&gt; &lt;flag&gt; until
</code></pre><p>The <code>begin-until</code> loop performs each iteration <em>until</em> the conditional flag is <code>true</code>. The <em>flag</em> follows the same conditional true and conditional false rules as the <code>if</code> conditional. Remember, <code>boolean</code> loves you.</p><p><div class="fif-repl"> ;; Fizzled begin-until, note that the first iteration is always called.</p><p>begin "Loop!" true until "We're done here"</p><p>_ </div></p><p>Iterating over a variable might be a more interesting example:</p><p><div class="fif-repl"> def iter 5</p><p>def iter-end 10</p><p>_ begin</p><p>_   ;; Print Iteration Message</p><p>  "Current Iteration: " . iter println</p><p>_   ;; Increment Iterator</p><p>  *iter iter inc setg</p><p>_ iter iter-end = until </div></p><h3>begin-while-repeat</h3><p>The <code>begin-while-repeat</code> loop condition will look familiar. The syntax is:</p><pre><code>begin &lt;flag&gt; while &lt;body..&gt; repeat
</code></pre><p>The <em>flag</em> is checked first, and if the boolean flag is <code>true</code>, then an iteration of the <em>body</em> is executed. Remember, <code>boolean</code> loves you.</p><p><div class="fif-repl"> ;; Conditional is checked first before iteration</p><p>begin cake-is-a-lie? while "Loop!" repeat "We're done here"</p><p>_ ;; Note that cake-is-a-lie? is always false, obviously. </div></p><p>We're working in a stack, so let's do some stacky stuff.</p><p><div class="fif-repl"> 0 begin dup 5 not= while dup inc repeat</p><p>_ </div></p><p>In this case, we're using the stack value to determine when our loop should exit. How neat is that?!</p><h2>High-functioning Computer Love</h2><p>I personally am not a big fan of conditional loops. Fortunately, <strong>fif</strong> has functional programming built-in.</p><h3>reduce</h3><p>Everything stems from <code>reduce</code>, so let's look at its syntax:</p><pre><code>&lt;fn &#40; x1 x2 -- x' &#41;&gt; &lt;coll&gt; reduce
</code></pre><p>Reduce takes a word function as its first argument, which can be passed onto the stack using <strong>Word Referencing</strong>. The second argument on the stack is the collection we wish to reduce.</p><p><div class="fif-repl"> *+ [1 2 3 4] reduce</p><p>_ </div></p><p>In the example, we are passing the addition, <code>+</code>, word function onto the stack with a collection of numbers. The <code>+</code> word function takes two numbers and places the addition of these two numbers back onto the stack. This is then treated as the first argument (x1) in the next iteration, with the second argument (x2) being the next value in the collection. This repeats until the collection is depleted. This is the story of <code>reduce</code>.</p><h3>map</h3><p><code>map</code> is probably the most used in functional programming:</p><pre><code>&lt;fn &#40; item -- 'item &#41;&gt; &lt;coll&gt; map
</code></pre><p>Map takes a word function as its first argument. The function in question needs to take a value off of the stack and replace it with a new value. The result is a transformed collection.</p><p><div class="fif-repl"> *inc [1 2 3 4] map</p><p>_ </div></p><p>In the example, we are passing <code>inc</code> as the word function, which increments each value in the collection. The result is then returned as a list collection.</p><h3>filter</h3><p>If you have a collection with values that you want removed, <code>filter</code> is the way to go. The syntax:</p><pre><code>&lt;fn &#40; item -- boolean &#41;&gt; &lt;coll&gt; filter
</code></pre><p>Filter takes a word function as its first argument. The function returns a truthy or falsy value to determine if the value should be removed from the returned collection.</p><p><div class="fif-repl"> *even? [1 2 3 4 5] filter</p><p>_ </div></p><p>In the example, the collected values are filtered by whether they are even. Values that don't make the cut are removed from the returned list collection.</p><h3>That's it</h3><p>With time, I plan on adding more higher-order word functions, but these three should make the cut for now.</p><h2>What was discussed?</h2><p>So far in this blog post, I have covered:</p><ul><li>Conditional Structures</li><li>Conditional Loops</li><li>Functional Programming Word Functions</li></ul><p>There's still so much more to talk about, but this blog post is getting lengthy. Let's save it for another post!</p><h2>But I want it now!</h2><p>If you would like to learn more about <strong>fif</strong>, and what it has to offer, <a href='http://github.com/benzap/fif'>the github page</a> goes more in-depth into most of the standard library operators, and also explains how to extend and use fif in your clojure(script) projects.</p><p>There is also an <a href='http://benzaporzan.me/fif-playground/'>online fif playground</a> which contains scripts expressing the many things you can do in <strong>fif</strong>. I will be covering each of these in later blog posts.</p><h2>Can you at least give me an example of its applications?</h2><p>I have an overactive imagination, but one particular use case that would intrigue me would be a web console to communicate with its own cljs web application. This same console could be used to carry out tasks that might be difficult or not cost-effective to develop a UI for. An example of this idea can be seen on this very site:</p><p><strong>Press the tilde key, or</strong> <a href="#" onclick="website.console.openc();">Click here</a>.</p><p>Some interesting console commands to try:</p><pre><code class="clojure">my/info pprint
my/projects pprint
my/work-experience pprint
my/research-publications pprint

&lt;url&gt; image
&lt;video-id&gt; youtube
random-whale-fact println
never-gonna-give-you-up
fif-logo
</code></pre><p>The web console is a work-in-progress, but I hope it sparked your interest!</p><h2>That's it, and thanks for reading</h2><p>If you feel like I've missed something, or you wish to express your undying love for stacks, you can find me on the <a href='http://clojurians.net/'>clojurians slack</a> as <strong>@benzap</strong>.</p><hr/><h2>Related Resources</h2><ul><li><a href='http://github.com/benzap/fif'>Fif Github Page</a></li><li><a href='http://benzaporzan.me/fif-playground/'>Fif Playground</a></li></ul></div></div></div></div><footer class="footer"><i>This site was statically generated with ♥ using <a href="https://github.com/plexus/chestnut">chestnut</a> and <a href="https://github.com/magnars/stasis">stasis</a> - © Benjamin Zaporzan 2018</i></footer></div><script src="/js/compiled/website.js" type="text/javascript"></script></body></html>